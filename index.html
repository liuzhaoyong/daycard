<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä¸€å¹´çº§æˆé•¿æ‰“å¡è¡¨</title>
    <style>
        body {
            font-family: 'Microsoft YaHei', sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 10px;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            color: #333;
            min-height: 100vh;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            background: linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%);
            padding: 20px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            border: 3px solid #ffd166;
            position: relative;
        }

        h1 {
            color: #ff6b6b;
            text-align: center;
            margin-bottom: 30px;
            font-size: 2.5em;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
            background: linear-gradient(45deg, #ff6b6b, #ffd166);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        h2 {
            color: #06d6a0;
            border-bottom: 3px solid #ffd166;
            padding-bottom: 8px;
            margin-top: 40px;
            font-size: 1.8em;
            position: relative;
        }

        h2::before {
            content: "ğŸŒŸ ";
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        th,
        td {
            border: 2px solid #ffd166;
            padding: 12px;
            text-align: left;
        }

        th {
            background: linear-gradient(45deg, #06d6a0, #118ab2);
            color: white;
            font-weight: bold;
            text-align: center;
            font-size: 1.1em;
        }

        th::before {
            content: "âœ¨ ";
        }

        td {
            background-color: rgba(255, 255, 255, 0.9);
        }

        tr:nth-child(even) td {
            background-color: #f8f9fa;
        }

        .note {
            font-size: 0.9em;
            color: #6c757d;
            margin: 10px 0;
        }

        .rule {
            background: linear-gradient(135deg, #a8e6cf 0%, #dcedc1 100%);
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
            border-left: 5px solid #ffd166;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .rule h3 {
            color: #ff6b6b;
            margin-top: 0;
        }

        .rule h3::before {
            content: "ğŸ“ ";
        }

        .highlight {
            color: #ef476f;
            font-weight: bold;
            background-color: #ffd166;
            padding: 2px 6px;
            border-radius: 5px;
        }

        input[type="number"] {
            border: 2px solid #06d6a0;
            border-radius: 8px;
            padding: 5px;
            font-size: 1em;
            background-color: #f8f9fa;
        }

        input[type="checkbox"] {
            transform: scale(1.5);
            accent-color: #06d6a0;
        }

        .daily-table th {
            background: linear-gradient(45deg, #ff6b6b, #ff9e7d);
        }

        .challenge-table th {
            background: linear-gradient(45deg, #118ab2, #06d6a0);
        }

        .score-table th {
            background: linear-gradient(45deg, #ffd166, #ff9e7d);
        }

        .reward-table th {
            background: linear-gradient(45deg, #a663cc, #6f2dbd);
        }

        .daily-table th::before {
            content: "ğŸ“‹ ";
        }

        .challenge-table th::before {
            content: "ğŸ… ";
        }

        .score-table th::before {
            content: "ğŸ§® ";
        }

        .reward-table th::before {
            content: "ğŸ ";
        }

        /* æ—¥å¸¸ä»»åŠ¡ä¼˜åŒ–æ ·å¼ */
        .task-score-input {
            width: 60px;
            border: 2px solid #06d6a0;
            border-radius: 8px;
            padding: 5px;
            font-size: 1em;
            background-color: #f8f9fa;
            text-align: center;
            transition: all 0.3s ease;
        }

        .task-score-input:focus {
            border-color: #ff6b6b;
            box-shadow: 0 0 8px rgba(255, 107, 107, 0.3);
            transform: scale(1.05);
        }

        .task-score-input.filled {
            background-color: #e8f5e8;
            border-color: #06d6a0;
        }

        .task-status {
            display: inline-block;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            margin-right: 5px;
            cursor: pointer;
            border: 2px solid #ddd;
            text-align: center;
            line-height: 26px;
            font-size: 12px;
            font-weight: bold;
            color: white;
            transition: all 0.3s ease;
            /* ç§»åŠ¨ç«¯è§¦æ‘¸ä¼˜åŒ– */
            -webkit-tap-highlight-color: transparent;
            touch-action: manipulation;
            user-select: none;
        }

        .task-status.selected {
            width: 40px;
            height: 40px;
            line-height: 36px;
            font-size: 14px;
            transform: scale(1.1);
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.3);
            z-index: 10;
            position: relative;
            animation: bounce 0.5s ease;
        }

        @keyframes bounce {

            0%,
            20%,
            60%,
            100% {
                transform: scale(1.1) translateY(0);
            }

            40% {
                transform: scale(1.1) translateY(-10px);
            }

            80% {
                transform: scale(1.1) translateY(-5px);
            }
        }

        /* æˆåŠŸé€‰æ‹©çš„é—ªçƒæ•ˆæœ */
        .task-status.selected.done {
            animation: successPulse 1s ease;
        }

        @keyframes successPulse {
            0% {
                box-shadow: 0 0 15px rgba(6, 214, 160, 0.3);
            }

            50% {
                box-shadow: 0 0 25px rgba(6, 214, 160, 0.8);
            }

            100% {
                box-shadow: 0 0 15px rgba(6, 214, 160, 0.3);
            }
        }

        .task-status.done {
            background-color: #06d6a0;
            border-color: #06d6a0;
        }

        .task-status.not-done {
            background-color: #ff6b6b;
            border-color: #ff6b6b;
        }

        .task-status.neutral {
            background-color: #ffd166;
            border-color: #ffd166;
        }

        .task-row:hover {
            background-color: #f0f8ff !important;
            transform: translateX(5px);
            transition: all 0.3s ease;
        }

        .score-hint {
            font-size: 0.8em;
            color: #6c757d;
            margin-top: 3px;
        }

        /* æ‚¬æµ®åˆ†æ•°è®¡ç®—å™¨ */
        .floating-calculator {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%);
            border-radius: 20px;
            padding: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            border: 3px solid #ffd166;
            z-index: 1000;
            min-width: 200px;
            transition: all 0.3s ease;
        }

        .floating-calculator.collapsed {
            width: 60px;
            height: 60px;
            padding: 15px;
            border-radius: 50%;
            cursor: pointer;
        }

        .floating-calculator.collapsed .calculator-content {
            display: none;
        }

        .floating-calculator.collapsed .toggle-btn {
            font-size: 24px;
            text-align: center;
            line-height: 30px;
        }

        .calculator-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .calculator-title {
            font-weight: bold;
            color: #ff6b6b;
            font-size: 1.1em;
        }

        .toggle-btn {
            background: none;
            border: none;
            font-size: 18px;
            cursor: pointer;
            color: #06d6a0;
            padding: 5px;
            border-radius: 50%;
            transition: all 0.3s ease;
        }

        .toggle-btn:hover {
            background-color: #f0f8ff;
            transform: scale(1.1);
        }

        .score-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
            padding: 5px 10px;
            border-radius: 10px;
            background-color: rgba(255, 255, 255, 0.7);
        }

        .score-label {
            font-size: 0.9em;
            color: #333;
        }

        .score-value {
            font-weight: bold;
            color: #06d6a0;
            font-size: 1.1em;
        }

        .total-score {
            border-top: 2px solid #ffd166;
            padding-top: 10px;
            margin-top: 10px;
        }

        .total-score .score-value {
            color: #ff6b6b;
            font-size: 1.3em;
        }

        /* ç§»åŠ¨ç«¯ä¼˜åŒ– */
        @media (max-width: 768px) {
            body {
                padding: 5px;
            }

            .container {
                padding: 15px;
                border-radius: 15px;
                border-width: 2px;
            }

            h1 {
                font-size: 1.8em;
                margin-bottom: 20px;
            }

            h2 {
                font-size: 1.4em;
                margin-top: 25px;
            }

            table {
                font-size: 0.9em;
            }

            th,
            td {
                padding: 10px 8px;
                border-width: 1px;
                vertical-align: middle;
            }

            /* ç§»åŠ¨ç«¯çŠ¶æ€åœˆå®¹å™¨ä¼˜åŒ– */
            td:last-child {
                padding: 12px 8px;
                line-height: 1.2;
            }

            .task-status {
                width: 35px;
                height: 35px;
                line-height: 31px;
                font-size: 11px;
                margin-right: 4px;
                margin-bottom: 4px;
                /* å¢åŠ è§¦æ‘¸åŒºåŸŸ */
                min-width: 44px;
                min-height: 44px;
                display: inline-flex;
                align-items: center;
                justify-content: center;
            }

            .task-status.selected {
                width: 42px;
                height: 42px;
                line-height: 38px;
                font-size: 13px;
                min-width: 48px;
                min-height: 48px;
            }

            .score-hint {
                font-size: 0.7em;
            }

            .floating-calculator {
                bottom: 10px;
                right: 10px;
                padding: 15px;
                min-width: 180px;
            }

            .floating-calculator.collapsed {
                width: 50px;
                height: 50px;
                padding: 10px;
            }

            .floating-calculator.collapsed .toggle-btn {
                font-size: 20px;
                line-height: 30px;
            }

            .rule {
                padding: 15px;
                margin: 15px 0;
            }

            .reward-table,
            .challenge-table {
                font-size: 0.85em;
            }
        }

        @media (max-width: 480px) {
            h1 {
                font-size: 1.5em;
            }

            h2 {
                font-size: 1.2em;
            }

            table {
                font-size: 0.8em;
            }

            th,
            td {
                padding: 6px 4px;
            }

            .task-status {
                width: 32px;
                height: 32px;
                line-height: 28px;
                font-size: 10px;
                margin-right: 3px;
                margin-bottom: 3px;
                /* ç¡®ä¿è§¦æ‘¸åŒºåŸŸè¶³å¤Ÿå¤§ */
                min-width: 44px;
                min-height: 44px;
                display: inline-flex;
                align-items: center;
                justify-content: center;
            }

            .task-status.selected {
                width: 38px;
                height: 38px;
                line-height: 34px;
                font-size: 12px;
                min-width: 48px;
                min-height: 48px;
            }

            .floating-calculator {
                min-width: 160px;
                padding: 12px;
            }

            .floating-calculator.collapsed {
                width: 45px;
                height: 45px;
                padding: 8px;
            }

            .score-item {
                margin-bottom: 6px;
                padding: 4px 8px;
            }

            .calculator-title {
                font-size: 1em;
            }
        }

        /* ç¡®è®¤æŒ‰é’®æ ·å¼ */
        .confirm-section {
            text-align: center;
            margin: 30px 0;
            padding: 20px;
            background: linear-gradient(135deg, #a8e6cf 0%, #dcedc1 100%);
            border-radius: 15px;
            border-left: 5px solid #ffd166;
        }

        .confirm-btn {
            background: linear-gradient(45deg, #ff6b6b, #ffd166);
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 1.2em;
            font-weight: bold;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(255, 107, 107, 0.3);
            font-family: 'Microsoft YaHei', sans-serif;
        }

        .confirm-btn:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);
        }

        .confirm-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
            box-shadow: none;
            opacity: 0.6;
        }

        .confirm-btn:active:not(:disabled) {
            transform: translateY(0);
        }

        /* å¥–åŠ±å¼¹çª—æ ·å¼ */
        .reward-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 2000;
        }

        .reward-modal.show {
            display: flex;
        }

        .reward-content {
            background: linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%);
            padding: 30px;
            border-radius: 20px;
            max-width: 400px;
            width: 90%;
            text-align: center;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
            border: 3px solid #ffd166;
            animation: modalSlideIn 0.3s ease-out;
        }

        @keyframes modalSlideIn {
            from {
                transform: translateY(-50px);
                opacity: 0;
            }

            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .reward-title {
            font-size: 1.5em;
            color: #ff6b6b;
            margin-bottom: 20px;
            font-weight: bold;
        }

        .reward-score {
            font-size: 1.8em;
            color: #06d6a0;
            margin: 15px 0;
            font-weight: bold;
        }

        .reward-message {
            font-size: 1.1em;
            color: #333;
            margin: 15px 0;
            line-height: 1.5;
        }

        .reward-available {
            background: linear-gradient(135deg, #a8e6cf 0%, #dcedc1 100%);
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
            border-left: 4px solid #06d6a0;
        }

        .reward-next {
            background: linear-gradient(135deg, #ffd166 0%, #ff9e7d 100%);
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
            border-left: 4px solid #ff6b6b;
        }

        .close-btn {
            background: #06d6a0;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 15px;
            cursor: pointer;
            font-size: 1em;
            margin-top: 20px;
            transition: all 0.3s ease;
        }

        .close-btn:hover {
            background: #05c494;
            transform: translateY(-1px);
        }

        /* æ¨ªå±ä¼˜åŒ– */
        @media (max-height: 600px) and (orientation: landscape) {
            .floating-calculator {
                bottom: 5px;
                right: 5px;
                padding: 10px;
                min-width: 150px;
            }

            .floating-calculator.collapsed {
                width: 40px;
                height: 40px;
                padding: 6px;
            }

            .reward-content {
                padding: 20px;
                max-height: 90vh;
                overflow-y: auto;
            }
        }

        /* å¸®åŠ©å¡ç‰‡æ ·å¼ */
        .help-card {
            background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
            border-left: 5px solid #2196f3;
            box-shadow: 0 5px 15px rgba(33, 150, 243, 0.2);
            display: none;
        }

        .help-card.show {
            display: block;
            animation: slideDown 0.3s ease;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .help-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .help-title {
            font-size: 1.2em;
            font-weight: bold;
            color: #1976d2;
        }

        .help-close {
            background: none;
            border: none;
            font-size: 1.5em;
            cursor: pointer;
            color: #666;
            padding: 0;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .help-close:hover {
            background-color: rgba(0, 0, 0, 0.1);
        }

        .help-step {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
            padding: 10px;
            background: rgba(255, 255, 255, 0.7);
            border-radius: 10px;
        }

        .step-number {
            background: #2196f3;
            color: white;
            width: 25px;
            height: 25px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-right: 15px;
            flex-shrink: 0;
        }

        .step-text {
            flex: 1;
            font-size: 1em;
            color: #333;
        }

        .step-demo {
            margin-left: 10px;
        }

        .demo-status {
            display: inline-block;
            width: 25px;
            height: 25px;
            border-radius: 50%;
            margin-right: 5px;
            text-align: center;
            line-height: 21px;
            font-size: 10px;
            font-weight: bold;
            color: white;
            border: 2px solid #ddd;
        }

        .demo-status.done {
            background-color: #06d6a0;
            border-color: #06d6a0;
        }

        .demo-status.neutral {
            background-color: #ffd166;
            border-color: #ffd166;
        }

        .demo-status.not-done {
            background-color: #ff6b6b;
            border-color: #ff6b6b;
        }

        .help-toggle {
            background: linear-gradient(45deg, #2196f3, #64b5f6);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 0.9em;
            margin-bottom: 20px;
            transition: all 0.3s ease;
        }

        .help-toggle:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(33, 150, 243, 0.3);
        }

        /* è¿›åº¦æ¡æ ·å¼ */
        .progress-section {
            background: linear-gradient(135deg, #fff3e0 0%, #ffe0b2 100%);
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
            border-left: 5px solid #ff9800;
        }

        .progress-title {
            font-size: 1.1em;
            font-weight: bold;
            color: #f57c00;
            margin-bottom: 15px;
        }

        .progress-bar {
            background-color: #e0e0e0;
            border-radius: 10px;
            height: 20px;
            overflow: hidden;
            position: relative;
        }

        .progress-fill {
            background: linear-gradient(45deg, #ff9800, #ffc107);
            height: 100%;
            border-radius: 10px;
            transition: width 0.5s ease;
            position: relative;
        }

        .progress-text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 0.8em;
            font-weight: bold;
            color: #333;
            z-index: 1;
        }

        /* ç§»åŠ¨ç«¯å¼¹çª—ä¼˜åŒ– */
        @media (max-width: 768px) {
            .confirm-section {
                margin: 20px 0;
                padding: 15px;
            }

            .confirm-btn {
                padding: 12px 25px;
                font-size: 1.1em;
            }

            .reward-content {
                padding: 20px;
                margin: 10px;
            }

            .reward-title {
                font-size: 1.3em;
            }

            .reward-score {
                font-size: 1.5em;
            }

            .reward-message {
                font-size: 1em;
            }

            .help-card {
                padding: 15px;
                margin: 15px 0;
            }

            .help-step {
                flex-direction: column;
                align-items: flex-start;
                text-align: left;
            }

            .step-number {
                margin-bottom: 5px;
                margin-right: 0;
            }

            .step-demo {
                margin-left: 0;
                margin-top: 5px;
            }
        }
    </style>
</head>

<body>
    <div class="container">
        <h1>ğŸ‰ ä¸¢ä¸¢å°æœ‹å‹æ¯æ—¥æˆé•¿æ‰“å¡è¡¨ ğŸ‰</h1>
        <p><strong>ğŸŒˆ æˆ‘çš„æ¯æ—¥æˆé•¿è¶³è¿¹ ğŸŒˆ</strong><br>
            ğŸ“… ä»Šå¤©ï¼š<span id="currentMonth"></span>æœˆ<span id="currentDay"></span>æ—¥</p>
        <p><strong>â­ æˆ‘æœ‰å¤šå°‘åˆ†</strong>ï¼š<input type="number" min="0" max="1000" id="myScore" style="width: 80px;"
                placeholder="0">åˆ†</p>

        <!-- æ“ä½œæç¤ºå¡ç‰‡ -->
        <div class="help-card" id="helpCard">
            <div class="help-header">
                <span class="help-title">ğŸ¯ æ€ä¹ˆä½¿ç”¨æ‰“å¡è¡¨ï¼Ÿ</span>
                <button class="help-close" onclick="toggleHelpCard()">Ã—</button>
            </div>
            <div class="help-content">
                <div class="help-step">
                    <span class="step-number">1</span>
                    <span class="step-text">ç‚¹å‡»å½©è‰²åœ†åœˆé€‰æ‹©ä»Šå¤©çš„è¡¨ç°</span>
                    <div class="step-demo">
                        <span class="demo-status done">+1</span>
                        <span class="demo-status neutral">0</span>
                        <span class="demo-status not-done">-1</span>
                    </div>
                </div>
                <div class="help-step">
                    <span class="step-number">2</span>
                    <span class="step-text">å®Œæˆæ‰€æœ‰ä»»åŠ¡åç‚¹å‡»ç¡®è®¤æŒ‰é’®</span>
                </div>
                <div class="help-step">
                    <span class="step-number">3</span>
                    <span class="step-text">çœ‹çœ‹èƒ½å…‘æ¢ä»€ä¹ˆå¥–åŠ±å§ï¼</span>
                </div>
            </div>
        </div>

        <button class="help-toggle" onclick="toggleHelpCard()">â“ ä½¿ç”¨å¸®åŠ©</button>

        <h2>ğŸ“ æ—¥å¸¸ä»»åŠ¡</h2>
        <table class="daily-table">
            <tr>
                <th>åˆ†ç±»</th>
                <th>å°ä»»åŠ¡</th>
                <th>å¾—åˆ†æ€ä¹ˆç®—</th>
                <th>æˆ‘å¾—å‡ åˆ†</th>
            </tr>
            <tr class="task-row">
                <td rowspan="6">è‡ªå·±çš„äº‹</td>
                <td>ğŸ‘• è‡ªå·±ç©¿è¡£æœ</td>
                <td>âœ…åšå¯¹åŠ 1åˆ†ï¼ŒâŒæ²¡åšå‡1åˆ†<br><span class="score-hint">ï¼ˆç‚¹å‡»çŠ¶æ€åœˆå¿«é€Ÿè®¾ç½®ï¼‰</span></td>
                <td>
                    <span class="task-status done" data-score="1" title="åšå¯¹åŠ 1åˆ†">+1</span>
                    <span class="task-status neutral" data-score="0" title="æ²¡åšé”™å¡«0åˆ†">0</span>
                    <span class="task-status not-done" data-score="-1" title="æ²¡åšå‡1åˆ†">-1</span>
                </td>
            </tr>
            <tr class="task-row">
                <td>ğŸ¦· æ—©ä¸Šè‡ªå·±åˆ·ç‰™ï¼ˆåˆ·å¹²å‡€ï¼‰</td>
                <td>âœ…åšå¯¹åŠ 1åˆ†ï¼ŒâŒæ²¡åšå‡1åˆ†<br><span class="score-hint">ï¼ˆç‚¹å‡»çŠ¶æ€åœˆå¿«é€Ÿè®¾ç½®ï¼‰</span></td>
                <td>
                    <span class="task-status done" data-score="1" title="åšå¯¹åŠ 1åˆ†">+1</span>
                    <span class="task-status neutral" data-score="0" title="æ²¡åšé”™å¡«0åˆ†">0</span>
                    <span class="task-status not-done" data-score="-1" title="æ²¡åšå‡1åˆ†">-1</span>
                </td>
            </tr>
            <tr class="task-row">
                <td>ğŸ¦· æ™šä¸Šè‡ªå·±åˆ·ç‰™ï¼ˆåˆ·å¹²å‡€ï¼‰</td>
                <td>âœ…åšå¯¹åŠ 1åˆ†ï¼ŒâŒæ²¡åšå‡1åˆ†<br><span class="score-hint">ï¼ˆç‚¹å‡»çŠ¶æ€åœˆå¿«é€Ÿè®¾ç½®ï¼‰</span></td>
                <td>
                    <span class="task-status done" data-score="1" title="åšå¯¹åŠ 1åˆ†">+1</span>
                    <span class="task-status neutral" data-score="0" title="æ²¡åšé”™å¡«0åˆ†">0</span>
                    <span class="task-status not-done" data-score="-1" title="æ²¡åšå‡1åˆ†">-1</span>
                </td>
            </tr>
            <tr class="task-row">
                <td>ğŸ’ è‡ªå·±æ”¶ä¹¦åŒ…</td>
                <td>âœ…åšå¯¹åŠ 1åˆ†ï¼ŒâŒæ²¡åšå‡1åˆ†<br><span class="score-hint">ï¼ˆç‚¹å‡»çŠ¶æ€åœˆå¿«é€Ÿè®¾ç½®ï¼‰</span></td>
                <td>
                    <span class="task-status done" data-score="1" title="åšå¯¹åŠ 1åˆ†">+1</span>
                    <span class="task-status neutral" data-score="0" title="æ²¡åšé”™å¡«0åˆ†">0</span>
                    <span class="task-status not-done" data-score="-1" title="æ²¡åšå‡1åˆ†">-1</span>
                </td>
            </tr>
            <tr class="task-row">
                <td>ğŸ›ï¸ æŒ‰æ—¶ç¡è§‰ï¼ˆå‘¨ä¸€ï½å‘¨äº”10ç‚¹å‰ï¼‰</td>
                <td>âœ…åšå¯¹åŠ 1åˆ†ï¼ŒâŒæ™šç¡å‡1åˆ†<br><span class="score-hint">ï¼ˆç‚¹å‡»çŠ¶æ€åœˆå¿«é€Ÿè®¾ç½®ï¼‰</span></td>
                <td>
                    <span class="task-status done" data-score="1" title="åšå¯¹åŠ 1åˆ†">+1</span>
                    <span class="task-status neutral" data-score="0" title="æ²¡åšé”™å¡«0åˆ†">0</span>
                    <span class="task-status not-done" data-score="-1" title="æ²¡åšå‡1åˆ†">-1</span>
                </td>
            </tr>
            <tr class="task-row">
                <td>â° æŒ‰æ—¶èµ·åºŠï¼ˆå‘¨ä¸€ï½å‘¨äº”7ç‚¹15ï¼‰</td>
                <td>âœ…åšå¯¹åŠ 1åˆ†ï¼ŒâŒèµ–åºŠå‡1åˆ†<br><span class="score-hint">ï¼ˆç‚¹å‡»çŠ¶æ€åœˆå¿«é€Ÿè®¾ç½®ï¼‰</span></td>
                <td>
                    <span class="task-status done" data-score="1" title="åšå¯¹åŠ 1åˆ†">+1</span>
                    <span class="task-status neutral" data-score="0" title="æ²¡åšé”™å¡«0åˆ†">0</span>
                    <span class="task-status not-done" data-score="-1" title="æ²¡åšå‡1åˆ†">-1</span>
                </td>
            </tr>
            <tr>
                <td rowspan="5">å¥½å¥½åƒé¥­</td>
                <td>ğŸ³ æ—©é¤æŒ‰æ—¶åƒå®Œ</td>
                <td>15åˆ†é’Ÿå†…åƒå®ŒåŠ 3åˆ†ï¼Œ20åˆ†é’Ÿå†…åŠ 2åˆ†ï¼Œ30åˆ†é’Ÿå†…åŠ 1åˆ†ã€‚è®¤çœŸåƒå®Œä¸æ‰£åˆ†ï¼Œä¸è®¤çœŸæ‰£1åˆ†ã€‚<br><span class="score-hint">ï¼ˆç‚¹å‡»çŠ¶æ€åœˆå¿«é€Ÿè®¾ç½®ï¼‰</span></td>
                <td>
                    <span class="task-status done" data-score="3" title="15åˆ†é’Ÿå†…åŠ 3åˆ†">+3</span>
                    <span class="task-status done" data-score="2" title="20åˆ†é’Ÿå†…åŠ 2åˆ†">+2</span>
                    <span class="task-status done" data-score="1" title="30åˆ†é’Ÿå†…åŠ 1åˆ†">+1</span>
                    <span class="task-status neutral" data-score="0" title="è®¤çœŸåƒå®Œä¸æ‰£åˆ†">0</span>
                    <span class="task-status not-done" data-score="-1" title="ä¸è®¤çœŸæ‰£1åˆ†">-1</span>
                </td>
            </tr>
            <tr class="task-row">
                <td>ğŸ± åˆé¤æŒ‰æ—¶åƒå®Œ</td>
                <td>20åˆ†é’Ÿå†…åƒå®ŒåŠ 3åˆ†ï¼Œ30åˆ†é’Ÿå†…åŠ 2åˆ†ï¼Œ40åˆ†é’Ÿå†…åŠ 1åˆ†ã€‚è®¤çœŸåƒå®Œä¸æ‰£åˆ†ï¼Œä¸è®¤çœŸæ‰£1åˆ†ã€‚<br><span class="score-hint">ï¼ˆç‚¹å‡»çŠ¶æ€åœˆå¿«é€Ÿè®¾ç½®ï¼‰</span></td>
                <td>
                    <span class="task-status done" data-score="3" title="20åˆ†é’Ÿå†…åŠ 3åˆ†">+3</span>
                    <span class="task-status done" data-score="2" title="30åˆ†é’Ÿå†…åŠ 2åˆ†">+2</span>
                    <span class="task-status done" data-score="1" title="40åˆ†é’Ÿå†…åŠ 1åˆ†">+1</span>
                    <span class="task-status neutral" data-score="0" title="è®¤çœŸåƒå®Œä¸æ‰£åˆ†">0</span>
                    <span class="task-status not-done" data-score="-1" title="ä¸è®¤çœŸæ‰£1åˆ†">-1</span>
                </td>
            </tr>
            <tr class="task-row">
                <td>ğŸ½ï¸ æ™šé¤æŒ‰æ—¶åƒå®Œ</td>
                <td>20åˆ†é’Ÿå†…åƒå®ŒåŠ 3åˆ†ï¼Œ30åˆ†é’Ÿå†…åŠ 2åˆ†ï¼Œ40åˆ†é’Ÿå†…åŠ 1åˆ†ã€‚è®¤çœŸåƒå®Œä¸æ‰£åˆ†ï¼Œä¸è®¤çœŸæ‰£1åˆ†ã€‚<br><span class="score-hint">ï¼ˆç‚¹å‡»çŠ¶æ€åœˆå¿«é€Ÿè®¾ç½®ï¼‰</span></td>
                <td>
                    <span class="task-status done" data-score="3" title="20åˆ†é’Ÿå†…åŠ 3åˆ†">+3</span>
                    <span class="task-status done" data-score="2" title="30åˆ†é’Ÿå†…åŠ 2åˆ†">+2</span>
                    <span class="task-status done" data-score="1" title="40åˆ†é’Ÿå†…åŠ 1åˆ†">+1</span>
                    <span class="task-status neutral" data-score="0" title="è®¤çœŸåƒå®Œä¸æ‰£åˆ†">0</span>
                    <span class="task-status not-done" data-score="-1" title="ä¸è®¤çœŸæ‰£1åˆ†">-1</span>
                </td>
            </tr>
            <tr class="task-row">
                <td>ğŸ´ ä¸‰é¤è®¤çœŸåƒä¸æ‹–æ‹‰</td>
                <td>âœ…æ¯é¤åšåˆ°åŠ 1åˆ†ï¼Œä»»ä¸€é¤æ‹–æ‹‰å‡1åˆ†<br><span class="score-hint">ï¼ˆç‚¹å‡»çŠ¶æ€åœˆå¿«é€Ÿè®¾ç½®ï¼‰</span></td>
                <td>
                    <span class="task-status done" data-score="3" title="ä¸‰é¤éƒ½åšåˆ°åŠ 3åˆ†">+3</span>
                    <span class="task-status done" data-score="2" title="ä¸¤é¤åšåˆ°åŠ 2åˆ†">+2</span>
                    <span class="task-status done" data-score="1" title="ä¸€é¤åšåˆ°åŠ 1åˆ†">+1</span>
                    <span class="task-status neutral" data-score="0" title="æ­£å¸¸å®Œæˆä¸æ‰£åˆ†">0</span>
                    <span class="task-status not-done" data-score="-1" title="ä»»ä¸€é¤æ‹–æ‹‰å‡1åˆ†">-1</span>
                </td>
            </tr>
            <tr class="task-row">
                <td>ğŸ å°è¯•æ–°é£Ÿç‰©</td>
                <td>âœ…å½“å¤©å°è¯•1ç§æ–°é£Ÿç‰©åŠ 2åˆ†ï¼Œæ²¡å°è¯•ä¸æ‰£åˆ†<br><span class="score-hint">ï¼ˆç‚¹å‡»çŠ¶æ€åœˆå¿«é€Ÿè®¾ç½®ï¼‰</span></td>
                <td>
                    <span class="task-status done" data-score="2" title="å°è¯•æ–°é£Ÿç‰©åŠ 2åˆ†">+2</span>
                    <span class="task-status neutral" data-score="0" title="æ²¡å°è¯•ä¸æ‰£åˆ†">0</span>
                </td>
            </tr>
            <tr class="task-row">
                <td rowspan="4">å­¦ä¹ çš„äº‹</td>
                <td>ğŸ“š è®¤çœŸå†™ä½œä¸š</td>
                <td>âœ…åšå¯¹åŠ 1åˆ†<br><span class="score-hint">ï¼ˆç‚¹å‡»çŠ¶æ€åœˆå¿«é€Ÿè®¾ç½®ï¼‰</span></td>
                <td>
                    <span class="task-status done" data-score="1" title="åšå¯¹åŠ 1åˆ†">+1</span>
                    <span class="task-status neutral" data-score="0" title="æ­£å¸¸å®Œæˆä¸æ‰£åˆ†">0</span>
                </td>
            </tr>
            <tr class="task-row">
                <td>ğŸ“– è¯»15åˆ†é’Ÿç»˜æœ¬</td>
                <td>âœ…åšå¯¹åŠ 1åˆ†<br><span class="score-hint">ï¼ˆç‚¹å‡»çŠ¶æ€åœˆå¿«é€Ÿè®¾ç½®ï¼‰</span></td>
                <td>
                    <span class="task-status done" data-score="1" title="åšå¯¹åŠ 1åˆ†">+1</span>
                    <span class="task-status neutral" data-score="0" title="æ­£å¸¸å®Œæˆä¸æ‰£åˆ†">0</span>
                </td>
            </tr>
            <tr class="task-row">
                <td>ğŸ”¤ åˆ†äº«æ–°å­¦ç”Ÿå­—</td>
                <td>âœ…1ä¸ªå­—åŠ 0.5åˆ†ï¼Œæ¯æ—¥ä¸Šé™2åˆ†<br><span class="score-hint">ï¼ˆç‚¹å‡»çŠ¶æ€åœˆå¿«é€Ÿè®¾ç½®ï¼‰</span></td>
                <td>
                    <span class="task-status done" data-score="2" title="4ä¸ªå­—ä»¥ä¸ŠåŠ 2åˆ†">+2</span>
                    <span class="task-status done" data-score="1" title="2ä¸ªå­—åŠ 1åˆ†">+1</span>
                    <span class="task-status done" data-score="0.5" title="1ä¸ªå­—åŠ 0.5åˆ†">+0.5</span>
                    <span class="task-status neutral" data-score="0" title="æ²¡åˆ†äº«ä¸æ‰£åˆ†">0</span>
                </td>
            </tr>
            <tr class="task-row">
                <td>ğŸ”  åˆ†äº«æ–°å­¦å•è¯</td>
                <td>âœ…1ä¸ªå•è¯åŠ 0.5åˆ†ï¼Œæ¯æ—¥ä¸Šé™2åˆ†<br><span class="score-hint">ï¼ˆç‚¹å‡»çŠ¶æ€åœˆå¿«é€Ÿè®¾ç½®ï¼‰</span></td>
                <td>
                    <span class="task-status done" data-score="2" title="4ä¸ªå•è¯ä»¥ä¸ŠåŠ 2åˆ†">+2</span>
                    <span class="task-status done" data-score="1" title="2ä¸ªå•è¯åŠ 1åˆ†">+1</span>
                    <span class="task-status done" data-score="0.5" title="1ä¸ªå•è¯åŠ 0.5åˆ†">+0.5</span>
                    <span class="task-status neutral" data-score="0" title="æ²¡åˆ†äº«ä¸æ‰£åˆ†">0</span>
                </td>
            </tr>
            <tr class="task-row">
                <td>å¸®å¿™åšäº‹</td>
                <td>ğŸ§¹ æ‰«åœ°ã€æ“¦æ¡Œå­ã€æ”¶æˆ¿é—´</td>
                <td>âœ…åšå¯¹åŠ 1åˆ†<br><span class="score-hint">ï¼ˆç‚¹å‡»çŠ¶æ€åœˆå¿«é€Ÿè®¾ç½®ï¼‰</span></td>
                <td>
                    <span class="task-status done" data-score="1" title="åšå¯¹åŠ 1åˆ†">+1</span>
                    <span class="task-status neutral" data-score="0" title="æ­£å¸¸å®Œæˆä¸æ‰£åˆ†">0</span>
                    <span class="task-status not-done" data-score="-1" title="æ²¡åšå¥½å‡1åˆ†">-1</span>

                </td>
            </tr>
            <tr class="task-row">
                <td>ä¸å‘è„¾æ°”</td>
                <td>ğŸ˜Š ä¸æ‘”ä¸œè¥¿ä¸å¤§å“­</td>
                <td>âŒå‘è„¾æ°”å‡3åˆ†<br><span class="score-hint">ï¼ˆç‚¹å‡»çŠ¶æ€åœˆå¿«é€Ÿè®¾ç½®ï¼‰</span></td>
                <td>
                    <span class="task-status neutral" data-score="0" title="æ²¡å‘è„¾æ°”ä¸æ‰£åˆ†">0</span>
                    <span class="task-status not-done" data-score="-3" title="å‘è„¾æ°”å‡3åˆ†">-3</span>
                </td>
            </tr>
        </table>

        <h2>ğŸ† æŒ‘æˆ˜ä»»åŠ¡</h2>
        <table class="challenge-table">
            <tr>
                <th>æŒ‘æˆ˜å†…å®¹</th>
                <th>å®Œæˆè¦æ±‚</th>
                <th>æ˜¯å¦å®Œæˆï¼ˆæ‰“âœ…ï¼‰</th>
                <th>åŠ åˆ†è®°å½•</th>
            </tr>
            <tr>
                <td>å’Œçˆ¸å¦ˆä¸€èµ·çˆ¬ä¸€åº§å±±</td>
                <td>é€‰ä¸å¤ªé«˜çš„å±±ï¼ˆå¦‚å…¬å›­å°å±±ã€éƒŠé‡çŸ­è·¯çº¿ï¼‰ï¼ŒåšæŒç™»é¡¶</td>
                <td><input type="checkbox" class="challenge-checkbox" data-points="15"></td>
                <td>+15åˆ†</td>
            </tr>
            <tr>
                <td>ç†Ÿç»ƒæŒæ¡ä¸€é¡¹å°æŠ€èƒ½</td>
                <td>æ¯”å¦‚è¿ç»­è·³ç»³10ä¸ªã€æ‹¼å¥½1ä¸ªå¤æ‚ç§¯æœ¨ã€å­¦ä¼šç³»é‹å¸¦ç­‰</td>
                <td><input type="checkbox" class="challenge-checkbox" data-points="20"></td>
                <td>+20åˆ†</td>
            </tr>
            <tr>
                <td>è¯»å®Œä¸€æœ¬å®Œæ•´çš„å›¾ç”»ä¹¦</td>
                <td>èƒ½ç®€å•å¤è¿°ä¹¦ä¸­ä¸»è¦å†…å®¹ï¼ˆæ¯”å¦‚ä¸»è§’åšäº†ä»€ä¹ˆï¼‰</td>
                <td><input type="checkbox" class="challenge-checkbox" data-points="20"></td>
                <td>+20åˆ†</td>
            </tr>
            <tr>
                <td>ç‹¬ç«‹å®Œæˆä¸€å¹…åˆ›æ„ç”»</td>
                <td>è‡ªå·±æ„æ€ä¸»é¢˜ï¼ˆå¦‚"æˆ‘çš„å®¶""å¤ªç©ºæ—…è¡Œ"ï¼‰ï¼Œä¸ç”¨çˆ¸å¦ˆå¸®å¿™ç”»</td>
                <td><input type="checkbox" class="challenge-checkbox" data-points="20"></td>
                <td>+20åˆ†</td>
            </tr>
        </table>

        <h2>ğŸ§® åˆ†æ•°è®¡ç®—</h2>
        <table class="score-table">
            <tr>
                <th>è®¡ç®—é¡¹ç›®</th>
                <th>è®¡ç®—æ–¹å¼</th>
                <th>å¾—åˆ†</th>
            </tr>
            <tr>
                <td>ä»Šå¤©æ€»åˆ†</td>
                <td>æŠŠ"æˆ‘å¾—å‡ åˆ†"éƒ½åŠ èµ·æ¥</td>
                <td id="todayTotal">0</td>
            </tr>
            <tr>
                <td>æŒ‘æˆ˜ä»»åŠ¡åŠ åˆ†</td>
                <td>æŒ‘æˆ˜ä»»åŠ¡å®Œæˆè‡ªåŠ¨è®¡ç®—</td>
                <td id="challengeTotal">0</td>
            </tr>
            <tr>
                <td>ç´¯è®¡æ€»åˆ†</td>
                <td>æ˜¨å¤©ç´¯è®¡åˆ†+ä»Šå¤©æ€»åˆ†+æŒ‘æˆ˜åŠ åˆ†</td>
                <td id="totalScore">0</td>
            </tr>
        </table>

        <!-- è¿›åº¦æ˜¾ç¤º -->
        <div class="progress-section">
            <div class="progress-title">ğŸ“ˆ ä»Šæ—¥å®Œæˆè¿›åº¦</div>
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill" style="width: 0%"></div>
                <div class="progress-text" id="progressText">0/17 ä¸ªä»»åŠ¡</div>
            </div>
        </div>

        <!-- ç¡®è®¤æŒ‰é’®åŒºåŸŸ -->
        <div class="confirm-section">
            <h3>ğŸ‰ å®Œæˆä»Šæ—¥æ‰“å¡</h3>
            <p>ç‚¹å‡»ç¡®è®¤æŒ‰é’®ï¼Œçœ‹çœ‹ä»Šå¤©çš„æˆæœå’Œå¯ä»¥å…‘æ¢çš„å¥–åŠ±å§ï¼</p>
            <button class="confirm-btn" id="confirmBtn" disabled onclick="showRewardModal()">
                ğŸŒŸ ç¡®è®¤ä»Šæ—¥åˆ†æ•° ğŸŒŸ
            </button>
        </div>

        <h2>ğŸ æ”’åˆ†æ¢å¥–åŠ±</h2>
        <table class="reward-table">
            <tr>
                <th>æ”’å¤Ÿç§¯åˆ†</th>
                <th>å¥–åŠ±å†…å®¹</th>
                <th>æ¸©é¦¨æç¤º</th>
            </tr>
            <tr>
                <td>10åˆ†</td>
                <td>ç•…äº«15åˆ†é’ŸåŠ¨ç”»æ—¶å…‰</td>
                <td>å½“æ—¥å³å¯è§£é”ï¼Œå¿«ä¹å³åˆ»å¼€å§‹ï¼</td>
            </tr>
            <tr>
                <td>25åˆ†</td>
                <td>Switchå‘¨æœ«ç•…ç©å»¶é•¿30åˆ†é’Ÿ</td>
                <td>å‘¨æœ«æ¸¸æˆæ—¶é—´ä»1å°æ—¶å‡çº§ä¸º1.5å°æ—¶ï¼</td>
            </tr>
            <tr>
                <td>40åˆ†</td>
                <td>è‡ªé€‰é¥®æ–™+ç¾å‘³å°é›¶é£Ÿ</td>
                <td>æŒ‘é€‰æœ€çˆ±çš„å£å‘³ï¼Œç”œèœœåŠ å€ï¼</td>
            </tr>
            <tr>
                <td>50åˆ†</td>
                <td>20å…ƒä¸“å±ç©å…·å¤§é€‰è´­</td>
                <td>æŠŠå¿ƒä»ªçš„å°å®è´å¸¦å›å®¶ï¼</td>
            </tr>
            <tr>
                <td>60åˆ†</td>
                <td>ç©å…·åº—æ‰­è›‹æƒŠå–œå¤§æŒ‘æˆ˜</td>
                <td>å¼€å¯ç¥ç§˜ç›²ç›’ï¼Œæ”¶è·æœªçŸ¥å¿«ä¹ï¼</td>
            </tr>
            <tr>
                <td>100åˆ†</td>
                <td>50å…ƒå·¦å³ç©å…·éšå¿ƒé€‰</td>
                <td>å¯ä»¥é€‰å–œæ¬¢çš„ç§¯æœ¨ã€ç©å¶æˆ–ç›Šæ™ºç©å…·ï¼</td>
            </tr>
            <tr>
                <td>150åˆ†</td>
                <td>å‘¨æœ«å£¹æ–¹åŸæœºåŠ¨æ¸¸æˆä¸€æ¬¡ï¼ˆ100ä¸ªå¸ï¼‰</td>
                <td>èƒ½ç©å–œæ¬¢çš„æ‘‡æ‘‡è½¦ã€æŠ•ç¯®æœºï¼Œè¶…å°½å…´ï¼</td>
            </tr>
            <tr>
                <td>200åˆ†</td>
                <td>å…¨æ–°Switchæ¸¸æˆå¸¦å›å®¶</td>
                <td>å…¨å®¶å…±äº«æ¬¢ä¹ï¼Œå¼€å¯æ¸¸æˆæ–°æ—…ç¨‹ï¼</td>
            </tr>
        </table>

        <div class="rule">
            <h3>ğŸ“‹ å°è§„åˆ™</h3>
            <p>âœ… åšå¯¹æ—¥å¸¸ä»»åŠ¡å¡«åŠ åˆ†ï¼ŒâŒ æ²¡åšå¥½å¡«æ‰£åˆ†ï¼ˆæ²¡åšé”™å¡«0ï¼‰ï¼›</p>
            <p>ğŸ½ï¸ ä¸‰é¤å¾—åˆ†æŒ‰"ç”¨æ—¶æ¢¯åº¦"è®¡ç®—ï¼Œæ—©é¤15åˆ†é’Ÿå†…æœ€å¿«åƒå®Œå¾—åˆ†æœ€é«˜ï¼Œåˆé¤ã€æ™šé¤æŒ‰å­¦é¾„å„¿ç«¥åˆç†æ—¶é•¿è®¾å®šï¼›</p>
            <p>ğŸ "å°è¯•æ–°é£Ÿç‰©"éœ€åœ¨å½“å¤©ç”¨é¤æ—¶å®Œæˆï¼Œå°è¯•1ç§å³å¯åŠ åˆ†ï¼Œä¸å¼ºè¿«å¤šè¯•ï¼›</p>
            <p>ğŸ‘• æ—©æ™šåˆ·ç‰™ã€ç©¿è¡£æœã€æ”¶ä¹¦åŒ…ç­‰"è‡ªå·±çš„äº‹"å‡ç‹¬ç«‹è¯„åˆ†ï¼Œåšåˆ°ä¸€é¡¹åŠ å¯¹åº”åˆ†æ•°ï¼Œæ²¡åšåˆ°ä¸€é¡¹å‡å¯¹åº”åˆ†æ•°ï¼›</p>
            <p>ğŸ† æŒ‘æˆ˜ä»»åŠ¡å®Œæˆåï¼Œå’Œçˆ¸å¦ˆä¸€èµ·æ‰“âœ…ï¼Œå†åŠ ä¸Šå¯¹åº”åˆ†æ•°ï¼ˆçˆ¬å±±+15åˆ†ï¼Œå…¶ä»–+20åˆ†ï¼‰ï¼›</p>
            <p class="highlight">ğŸ“º æ¯å¤©æ™šä¸Š10ç‚¹è¦å‡†æ—¶å…³æ‰ç”µè§†ï¼Œä¸ç†¬å¤œçœ‹åŠ¨ç”»ï¼›</p>
            <p class="highlight">ğŸ® Switchæ¸¸æˆåªæœ‰å‘¨æœ«æ‰èƒ½ç©ï¼Œå‘¨ä¸€åˆ°å‘¨äº”ä¸èƒ½ç©å“¦ï½</p>
            <p>â° æŒ‘æˆ˜ä»»åŠ¡å¯ä»¥æ…¢æ…¢å®Œæˆï¼Œä¸ç”¨æ¯å¤©éƒ½åšï¼Œå®Œæˆä¸€é¡¹åŠ ä¸€é¡¹çš„åˆ†ï¼</p>
        </div>
    </div>

    <!-- æ‚¬æµ®åˆ†æ•°è®¡ç®—å™¨ -->
    <div class="floating-calculator" id="floatingCalculator">
        <div class="calculator-header">
            <span class="calculator-title">ğŸ“Š åˆ†æ•°ç»Ÿè®¡</span>
            <button class="toggle-btn" onclick="toggleCalculator()">âˆ’</button>
        </div>
        <div class="calculator-content">
            <div class="score-item">
                <span class="score-label">ä»Šå¤©æ€»åˆ†</span>
                <span class="score-value" id="floatingTodayTotal">0.0</span>
            </div>
            <div class="score-item">
                <span class="score-label">æŒ‘æˆ˜åŠ åˆ†</span>
                <span class="score-value" id="floatingChallengeTotal">0</span>
            </div>
            <div class="score-item">
                <span class="score-label">æˆ‘çš„ç§¯åˆ†</span>
                <span class="score-value" id="floatingMyScore">0.0</span>
            </div>
            <div class="score-item total-score">
                <span class="score-label">ç´¯è®¡æ€»åˆ†</span>
                <span class="score-value" id="floatingTotalScore">0.0</span>
            </div>
        </div>
        <div class="toggle-btn" style="display: none;">ğŸ“Š</div>
    </div>

    <!-- å¥–åŠ±å¼¹çª— -->
    <div class="reward-modal" id="rewardModal">
        <div class="reward-content">
            <div class="reward-title">ğŸ‰ ä»Šæ—¥æˆæœæŠ¥å‘Š ğŸ‰</div>
            <div class="reward-score" id="modalTodayScore">ä»Šå¤©å¾—åˆ†ï¼š0åˆ†</div>
            <div class="reward-score" id="modalTotalScore">ç´¯è®¡æ€»åˆ†ï¼š0åˆ†</div>
            <div id="rewardMessage" class="reward-message"></div>
            <button class="close-btn" onclick="closeRewardModal()">çŸ¥é“äº† ğŸ˜Š</button>
        </div>
    </div>

    <script>
        // è‡ªåŠ¨è·å–å½“å‰æ—¥æœŸ
        const now = new Date();
        const month = now.getMonth() + 1; // æœˆä»½ä»0å¼€å§‹ï¼Œéœ€è¦+1
        const day = now.getDate();

        document.getElementById('currentMonth').textContent = month;
        document.getElementById('currentDay').textContent = day;

        // é˜²æŠ–å‡½æ•°
        function debounce(func, wait) {
            let timeout;
            return function executedFunction(...args) {
                const later = () => {
                    clearTimeout(timeout);
                    func(...args);
                };
                clearTimeout(timeout);
                timeout = setTimeout(later, wait);
            };
        }

        // è‡ªåŠ¨åˆ†æ•°è®¡ç®—åŠŸèƒ½
        function calculateScores() {
            try {
                // è®¡ç®—æ—¥å¸¸ä»»åŠ¡æ€»åˆ†ï¼ˆä»Šå¤©æ€»åˆ†ï¼‰
                let dailyTotal = 0;
                const selectedStatuses = document.querySelectorAll('.task-status.selected');
                selectedStatuses.forEach(status => {
                    const value = parseFloat(status.dataset.score) || 0;
                    dailyTotal += value;
                });

                // è®¡ç®—æŒ‘æˆ˜ä»»åŠ¡åŠ åˆ†ï¼ˆä»æŒ‘æˆ˜ä»»åŠ¡è¡¨æ ¼å¤é€‰æ¡†è·å–ï¼‰
                let challengeTotal = 0;
                const challengeCheckboxes = document.querySelectorAll('.challenge-checkbox');
                challengeCheckboxes.forEach(checkbox => {
                    if (checkbox.checked) {
                        challengeTotal += parseInt(checkbox.dataset.points);
                    }
                });

                // è·å–"æˆ‘æœ‰å¤šå°‘åˆ†"çš„è¾“å…¥å€¼
                const myScore = parseFloat(document.getElementById('myScore').value) || 0;

                // ä»Šå¤©æ€»åˆ†åªåŒ…å«æ—¥å¸¸ä»»åŠ¡åˆ†æ•°
                const todayTotal = dailyTotal;

                // ç´¯è®¡æ€»åˆ† = æˆ‘æœ‰å¤šå°‘åˆ† + ä»Šå¤©æ€»åˆ† + æŒ‘æˆ˜ä»»åŠ¡åŠ åˆ†
                const totalScore = myScore + todayTotal + challengeTotal;

                // æ›´æ–°ä¸»è¡¨æ ¼æ˜¾ç¤ºï¼ˆä¿ç•™ä¸€ä½å°æ•°ï¼‰
                const todayTotalEl = document.getElementById('todayTotal');
                const challengeTotalEl = document.getElementById('challengeTotal');
                const totalScoreEl = document.getElementById('totalScore');

                if (todayTotalEl) todayTotalEl.textContent = todayTotal.toFixed(1);
                if (challengeTotalEl) challengeTotalEl.textContent = challengeTotal;
                if (totalScoreEl) totalScoreEl.textContent = totalScore.toFixed(1);

                // æ›´æ–°æ‚¬æµ®è®¡ç®—å™¨æ˜¾ç¤º
                const floatingElements = {
                    floatingTodayTotal: todayTotal.toFixed(1),
                    floatingChallengeTotal: challengeTotal,
                    floatingMyScore: myScore.toFixed(1),
                    floatingTotalScore: totalScore.toFixed(1)
                };

                Object.keys(floatingElements).forEach(id => {
                    const el = document.getElementById(id);
                    if (el) el.textContent = floatingElements[id];
                });

                // æ›´æ–°ç¡®è®¤æŒ‰é’®çŠ¶æ€
                updateConfirmButton();

            } catch (error) {
                console.error('è®¡ç®—åˆ†æ•°æ—¶å‡ºé”™:', error);
            }
        }

        // åˆ›å»ºé˜²æŠ–ç‰ˆæœ¬çš„è®¡ç®—å‡½æ•°
        const debouncedCalculateScores = debounce(calculateScores, 100);

        // å¥–åŠ±æ•°æ®
        const rewards = [
            { points: 10, reward: "ç•…äº«15åˆ†é’ŸåŠ¨ç”»æ—¶å…‰", description: "å½“æ—¥å³å¯è§£é”ï¼Œå¿«ä¹å³åˆ»å¼€å§‹ï¼" },
            { points: 25, reward: "Switchå‘¨æœ«ç•…ç©å»¶é•¿30åˆ†é’Ÿ", description: "å‘¨æœ«æ¸¸æˆæ—¶é—´ä»1å°æ—¶å‡çº§ä¸º1.5å°æ—¶ï¼" },
            { points: 40, reward: "è‡ªé€‰é¥®æ–™+ç¾å‘³å°é›¶é£Ÿ", description: "æŒ‘é€‰æœ€çˆ±çš„å£å‘³ï¼Œç”œèœœåŠ å€ï¼" },
            { points: 50, reward: "20å…ƒä¸“å±ç©å…·å¤§é€‰è´­", description: "æŠŠå¿ƒä»ªçš„å°å®è´å¸¦å›å®¶ï¼" },
            { points: 60, reward: "ç©å…·åº—æ‰­è›‹æƒŠå–œå¤§æŒ‘æˆ˜", description: "å¼€å¯ç¥ç§˜ç›²ç›’ï¼Œæ”¶è·æœªçŸ¥å¿«ä¹ï¼" },
            { points: 100, reward: "50å…ƒå·¦å³ç©å…·éšå¿ƒé€‰", description: "å¯ä»¥é€‰å–œæ¬¢çš„ç§¯æœ¨ã€ç©å¶æˆ–ç›Šæ™ºç©å…·ï¼" },
            { points: 150, reward: "å‘¨æœ«å£¹æ–¹åŸæœºåŠ¨æ¸¸æˆä¸€æ¬¡ï¼ˆ100ä¸ªå¸ï¼‰", description: "èƒ½ç©å–œæ¬¢çš„æ‘‡æ‘‡è½¦ã€æŠ•ç¯®æœºï¼Œè¶…å°½å…´ï¼" },
            { points: 200, reward: "å…¨æ–°Switchæ¸¸æˆå¸¦å›å®¶", description: "å…¨å®¶å…±äº«æ¬¢ä¹ï¼Œå¼€å¯æ¸¸æˆæ–°æ—…ç¨‹ï¼" }
        ];

        // æ›´æ–°ç¡®è®¤æŒ‰é’®çŠ¶æ€
        function updateConfirmButton() {
            const confirmBtn = document.getElementById('confirmBtn');
            const selectedStatuses = document.querySelectorAll('.task-status.selected');
            let todayTotal = 0;

            selectedStatuses.forEach(status => {
                const value = parseFloat(status.dataset.score) || 0;
                todayTotal += value;
            });

            if (todayTotal > 0) {
                confirmBtn.disabled = false;
                confirmBtn.textContent = 'ğŸŒŸ ç¡®è®¤ä»Šæ—¥åˆ†æ•° ğŸŒŸ';
            } else {
                confirmBtn.disabled = true;
                confirmBtn.textContent = 'è¯·å…ˆå®Œæˆä»»åŠ¡æ‰“åˆ†';
            }
        }

        // æ˜¾ç¤ºå¥–åŠ±å¼¹çª—
        function showRewardModal() {
            // è®¡ç®—åˆ†æ•°
            let dailyTotal = 0;
            const selectedStatuses = document.querySelectorAll('.task-status.selected');
            selectedStatuses.forEach(status => {
                const value = parseFloat(status.dataset.score) || 0;
                dailyTotal += value;
            });

            let challengeTotal = 0;
            const challengeCheckboxes = document.querySelectorAll('.challenge-checkbox');
            challengeCheckboxes.forEach(checkbox => {
                if (checkbox.checked) {
                    challengeTotal += parseInt(checkbox.dataset.points);
                }
            });

            const myScore = parseFloat(document.getElementById('myScore').value) || 0;
            const totalScore = myScore + dailyTotal + challengeTotal;

            // æ›´æ–°å¼¹çª—å†…å®¹
            document.getElementById('modalTodayScore').textContent = `ä»Šå¤©å¾—åˆ†ï¼š${(dailyTotal + challengeTotal).toFixed(1)}åˆ†`;
            document.getElementById('modalTotalScore').textContent = `ç´¯è®¡æ€»åˆ†ï¼š${totalScore.toFixed(1)}åˆ†`;

            // ç”Ÿæˆå¥–åŠ±æ¶ˆæ¯
            const rewardMessage = generateRewardMessage(totalScore);
            document.getElementById('rewardMessage').innerHTML = rewardMessage;

            // æ˜¾ç¤ºå¼¹çª—
            document.getElementById('rewardModal').classList.add('show');
        }

        // ç”Ÿæˆå¥–åŠ±æ¶ˆæ¯
        function generateRewardMessage(totalScore) {
            let message = '';
            const availableRewards = rewards.filter(r => totalScore >= r.points);

            if (availableRewards.length > 0) {
                // æœ‰å¯å…‘æ¢çš„å¥–åŠ±
                const bestReward = availableRewards[availableRewards.length - 1];
                message += `<div class="reward-available">`;
                message += `<h4>ğŸ æ­å–œï¼ä½ å¯ä»¥å…‘æ¢ï¼š</h4>`;
                message += `<strong>${bestReward.reward}</strong><br>`;
                message += `<small>${bestReward.description}</small>`;
                message += `</div>`;

                // å¦‚æœè¿˜æœ‰æ›´é«˜çº§çš„å¥–åŠ±
                const nextReward = rewards.find(r => r.points > totalScore);
                if (nextReward) {
                    const needed = nextReward.points - totalScore;
                    message += `<div class="reward-next">`;
                    message += `<h4>ğŸŒŸ ç»§ç»­åŠ æ²¹ï¼</h4>`;
                    message += `å†å¾— <strong>${needed.toFixed(1)}åˆ†</strong> å°±èƒ½è§£é”ï¼š<br>`;
                    message += `<strong>${nextReward.reward}</strong>`;
                    message += `</div>`;
                }
            } else {
                // æ²¡æœ‰å¯å…‘æ¢çš„å¥–åŠ±
                const nextReward = rewards[0];
                const needed = nextReward.points - totalScore;
                message += `<div class="reward-next">`;
                message += `<h4>ğŸ’ª åŠ æ²¹åŠªåŠ›ï¼</h4>`;
                message += `å†å¾— <strong>${needed.toFixed(1)}åˆ†</strong> å°±èƒ½è·å¾—ç¬¬ä¸€ä¸ªå¥–åŠ±ï¼š<br>`;
                message += `<strong>${nextReward.reward}</strong><br>`;
                message += `<small>${nextReward.description}</small>`;
                message += `</div>`;
            }

            // æ·»åŠ é¼“åŠ±è¯­
            const encouragements = [
                "ä½ ä»Šå¤©è¡¨ç°å¾—å¾ˆæ£’ï¼ç»§ç»­ä¿æŒå“¦ï¼ ğŸŒŸ",
                "æ¯ä¸€åˆ†éƒ½æ˜¯ä½ åŠªåŠ›çš„è¯æ˜ï¼ ğŸ’ª",
                "å°å°çš„è¿›æ­¥ï¼Œå¤§å¤§çš„æˆé•¿ï¼ ğŸŒ±",
                "ä½ æ˜¯æœ€æ£’çš„å°æœ‹å‹ï¼ ğŸ‰",
                "åšæŒå°±æ˜¯èƒœåˆ©ï¼ŒåŠ æ²¹ï¼ ğŸš€"
            ];
            const randomEncouragement = encouragements[Math.floor(Math.random() * encouragements.length)];
            message += `<p style="margin-top: 20px; color: #ff6b6b; font-weight: bold;">${randomEncouragement}</p>`;

            return message;
        }

        // å…³é—­å¥–åŠ±å¼¹çª—
        function closeRewardModal() {
            document.getElementById('rewardModal').classList.remove('show');
        }

        // æ‚¬æµ®è®¡ç®—å™¨åˆ‡æ¢åŠŸèƒ½
        function toggleCalculator() {
            const calculator = document.getElementById('floatingCalculator');
            calculator.classList.toggle('collapsed');
        }

        // ç‚¹å‡»æ”¶ç¼©çŠ¶æ€çš„è®¡ç®—å™¨å±•å¼€
        function expandCalculator() {
            const calculator = document.getElementById('floatingCalculator');
            if (calculator.classList.contains('collapsed')) {
                calculator.classList.remove('collapsed');
            }
        }

        // æ—¥å¸¸ä»»åŠ¡çŠ¶æ€æŒ‡ç¤ºå™¨åŠŸèƒ½
        function setupTaskStatusIndicators() {
            const statusIndicators = document.querySelectorAll('.task-status');
            statusIndicators.forEach(status => {
                // æ·»åŠ è§¦æ‘¸äº‹ä»¶æ”¯æŒ
                status.addEventListener('touchstart', function (e) {
                    e.preventDefault(); // é˜²æ­¢åŒå‡»ç¼©æ”¾
                    this.style.transform = 'scale(0.95)';
                });

                status.addEventListener('touchend', function (e) {
                    e.preventDefault();
                    this.style.transform = '';
                    handleStatusClick.call(this);
                });

                status.addEventListener('click', function (e) {
                    e.preventDefault();
                    handleStatusClick.call(this);
                });

                function handleStatusClick() {
                    // ç§»é™¤åŒä¸€è¡Œå…¶ä»–çŠ¶æ€çš„é€‰ä¸­çŠ¶æ€
                    this.parentElement.querySelectorAll('.task-status').forEach(s => {
                        s.classList.remove('selected');
                    });

                    // æ·»åŠ å½“å‰çŠ¶æ€çš„é€‰ä¸­çŠ¶æ€
                    this.classList.add('selected');

                    // æ’­æ”¾éŸ³æ•ˆ
                    try {
                        playSuccessSound();
                    } catch (e) {
                        console.log('Audio not available');
                    }

                    // æ›´æ–°è¿›åº¦æ¡
                    if (window.updateProgress) {
                        updateProgress();
                    }

                    // æ·»åŠ è§†è§‰åé¦ˆ
                    this.style.transform = 'scale(1.1)';
                    setTimeout(() => {
                        this.style.transform = '';
                    }, 200);

                    debouncedCalculateScores();
                }
            });
        }

        // ä¸ºæ‰€æœ‰è¾“å…¥æ¡†æ·»åŠ äº‹ä»¶ç›‘å¬
        document.addEventListener('DOMContentLoaded', function () {
            // æŒ‘æˆ˜ä»»åŠ¡å¤é€‰æ¡†
            const challengeCheckboxes = document.querySelectorAll('.challenge-checkbox');
            challengeCheckboxes.forEach(checkbox => {
                checkbox.addEventListener('change', debouncedCalculateScores);
            });

            // "æˆ‘æœ‰å¤šå°‘åˆ†"è¾“å…¥æ¡†
            document.getElementById('myScore').addEventListener('input', debouncedCalculateScores);

            // è®¾ç½®ä»»åŠ¡çŠ¶æ€æŒ‡ç¤ºå™¨
            setupTaskStatusIndicators();

            // æ‚¬æµ®è®¡ç®—å™¨ç‚¹å‡»å±•å¼€
            const calculator = document.getElementById('floatingCalculator');
            calculator.addEventListener('click', function (e) {
                if (this.classList.contains('collapsed') && e.target === this) {
                    expandCalculator();
                }
            });

            // åˆå§‹åŒ–è®¡ç®—
            calculateScores();

            // ç§»åŠ¨ç«¯ä¼˜åŒ–ï¼šè‡ªåŠ¨æ”¶ç¼©æ‚¬æµ®è®¡ç®—å™¨
            if (window.innerWidth <= 768) {
                setTimeout(() => {
                    calculator.classList.add('collapsed');
                }, 3000); // 3ç§’åè‡ªåŠ¨æ”¶ç¼©
            }

            // ç‚¹å‡»å¼¹çª—å¤–éƒ¨å…³é—­
            document.getElementById('rewardModal').addEventListener('click', function (e) {
                if (e.target === this) {
                    closeRewardModal();
                }
            });

            // ESCé”®å…³é—­å¼¹çª—
            document.addEventListener('keydown', function (e) {
                if (e.key === 'Escape') {
                    closeRewardModal();
                }
            });
            // åˆ‡æ¢å¸®åŠ©å¡ç‰‡
            window.toggleHelpCard = function () {
                const helpCard = document.getElementById('helpCard');
                helpCard.classList.toggle('show');
            }

            // æ›´æ–°è¿›åº¦æ¡
            window.updateProgress = function () {
                const totalTasks = 17; // æ€»ä»»åŠ¡æ•°
                const completedTasks = document.querySelectorAll('.task-status.selected').length;
                const progressPercent = totalTasks > 0 ? (completedTasks / totalTasks) * 100 : 0;

                document.getElementById('progressFill').style.width = progressPercent + '%';
                document.getElementById('progressText').textContent = `${completedTasks}/${totalTasks} ä¸ªä»»åŠ¡`;
            }

            // æ’­æ”¾æˆåŠŸéŸ³æ•ˆï¼ˆå¦‚æœæµè§ˆå™¨æ”¯æŒï¼‰
            function playSuccessSound() {
                try {
                    // åˆ›å»ºéŸ³é¢‘ä¸Šä¸‹æ–‡
                    const audioContext = new (window.AudioContext || window.webkitAudioContext)();
                    const oscillator = audioContext.createOscillator();
                    const gainNode = audioContext.createGain();

                    oscillator.connect(gainNode);
                    gainNode.connect(audioContext.destination);

                    oscillator.frequency.setValueAtTime(523.25, audioContext.currentTime); // C5
                    oscillator.frequency.setValueAtTime(659.25, audioContext.currentTime + 0.1); // E5
                    oscillator.frequency.setValueAtTime(783.99, audioContext.currentTime + 0.2); // G5

                    gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
                    gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.3);

                    oscillator.start(audioContext.currentTime);
                    oscillator.stop(audioContext.currentTime + 0.3);
                } catch (e) {
                    // å¦‚æœéŸ³é¢‘ä¸æ”¯æŒï¼Œé™é»˜å¤±è´¥
                    console.log('Audio not supported');
                }
            }

            // åˆå§‹åŒ–è¿›åº¦æ¡
            updateProgress();
        });

        // å…¨å±€å‡½æ•°å®šä¹‰
        window.toggleHelpCard = function () {
            const helpCard = document.getElementById('helpCard');
            helpCard.classList.toggle('show');
        }

        window.showRewardModal = showRewardModal;
        window.closeRewardModal = closeRewardModal;
        window.toggleCalculator = toggleCalculator;
    </script>
</body>

</html>